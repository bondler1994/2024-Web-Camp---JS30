<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Understanding JavaScript's Capture</title>
        <link rel="icon" href="https://fav.farm/ðŸ”¥" />
    </head>
    <body>
        <div class="one">
            <div class="two">
                <div class="three"></div>
            </div>
        </div>

        <style>
            html {
                box-sizing: border-box;
            }

            *,
            *:before,
            *:after {
                box-sizing: inherit;
            }

            div {
                width: 100%;
                padding: 100px;
            }

            .one {
                background: thistle;
            }

            .two {
                background: mistyrose;
            }

            .three {
                background: coral;
            }
        </style>

        <button></button>
        <script>
            //no1 é¸å–div
            const divs = document.querySelectorAll("div");
            const button = document.querySelector("button");
            // æŒ‡å®šä¸€å€‹classçµ¦body
            document.body.classList = "bod";

            function logText(e) {
                console.log(this.classList.value);
                //no3 åŸºæ–¼no2 çµ¦èˆ‡ä¸€å€‹æ–¹æ³• åœæ­¢ç¹æ®–stopPropagation()
                // e.stopPropagation();
            }
            // no2 é€™é‚Šé¸å–å…¨éƒ¨divï¼Œä¸¦è³¦äºˆå…¨éƒ¨div clickäº‹ä»¶ï¼Œå¾Œé¢æ˜¯é¸å–func æ¸¬è©¦
            // ä½†é€™è£¡æœƒå‡ºç¾ä¸€å€‹ç‹€æ³ï¼Œå°±æ˜¯äº‹ä»¶å†’æ³¡ï¼Œç•¶é»žé¸å…¶ä¸­ä¸€å€‹divï¼Œå…¨éƒ¨éƒ½æœƒè¢«é¸åˆ°
            divs.forEach((div) =>
                div.addEventListener("click", logText, {
                    capture: false,
                    //å»ºç«‹æ­¤æ˜¯ç‚ºäº†é»žæ“Šæ™‚ åªèƒ½è§¸ç™¼ä¸€æ¬¡
                    once: true,
                })
            );

            //æœ€å¾Œé€™è£¡å¯è¦‹ çµ¦buttonåŠ ä¸Šé»žæ“Š once ï¼Œåœ¨devtoolçœ‹ é‡è¤‡é»žæ“Šbuttonå°±ä¸æœƒä½œç”¨äº†
            button.addEventListener(
                "click",
                () => {
                    console.log("been click");
                },
                { once: true }
            );
        </script>
    </body>
</html>
